# BM25 Search Behavior

## How BM25 Processes Queries

**Query: "game of year"**

BM25 treats this as **3 separate terms**: ["game", "of", "year"]

### Key BM25 Characteristics

1. **Splits into individual terms** - each word is scored independently
2. **Doesn't require ALL terms** - documents can match even if missing some words
3. **Order doesn't matter** - "year of game" scores the same as "game of year"
4. **Case insensitive** (typically) - "Game" = "game"

### Examples

**Query: "game of year"**

**Document A: "Best action game of the year in 2025"**
- Contains: [Y] "game", [Y] "of", [Y] "year"
- **Score**: HIGH (all 3 terms present)

**Document B: "best action game for year 2025"**
- Contains: [Y] "game", [N] "of", [Y] "year"
- **Score**: MEDIUM (2 out of 3 terms present)
- **Would still be returned** but with lower score

### BM25 Scoring Logic

```text
Query: "game of year"

Document A: "Best action game of the year in 2025"
- "game": TF=1, gets score
- "of": TF=1, gets score
- "year": TF=1, gets score
- Total: High score (all terms found)

Document B: "best action game for year 2025"
- "game": TF=1, gets score
- "of": TF=0, gets no score
- "year": TF=1, gets score
- Total: Medium score (2/3 terms found)

Document C: "annual sports competition"
- "game": TF=0, gets no score
- "of": TF=0, gets no score
- "year": TF=0, gets no score
- Total: Zero score (no terms found)
```

### BM25 vs Phrase Search

- **BM25 term matching**: "game of year" - finds documents with any of these words
- **Exact phrase search**: "game of year" (in quotes) - finds only exact phrase matches

### Summary

**BM25 allows partial matching**
- it doesn't require all query terms to be present.
- Documents are scored based on how many terms they contain and how frequently those terms appear.
- Both examples above would be returned, just with different relevance scores.
